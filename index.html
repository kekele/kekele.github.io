<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Hero 头部大图区域 -->
<div class="hero" style="background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('/images/hero-banner.jpg') center/cover no-repeat; height: 60vh; display: flex; align-items: center; justify-content: center; text-align: center; color: #fff;">
  <div class="hero-content">
    <h1 style="font-size: 3rem; margin-bottom: 1rem;">众心精工 让家更有温度</h1>
    <p style="font-size: 1.2rem; margin-bottom: 2rem;">全案设计 · 环保材料 · 透明报价 · 终身售后</p>
    <a href="/contact/" class="btn" style="background: #d97706; color: #fff; padding: 0.8rem 2rem; border-radius: 4px; text-decoration: none;">立即预约量房</a>
  </div>
</div>

<!-- 核心服务板块 -->
<section class="services" style="padding: 4rem 0; max-width: 1200px; margin: 0 auto;">
  <h2 style="text-align: center; margin-bottom: 3rem; font-size: 2rem;">我们的核心服务</h2>
  <div class="service-cards" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem;">
    <!-- 服务卡片1 -->
    <div class="card" style="padding: 2rem; border: 1px solid #eee; border-radius: 8px; text-align: center;">
      <img src="/images/icon-design.png" alt="全案设计" style="width: 80px; margin-bottom: 1rem;">
      <h3>全案家装设计</h3>
      <p>一对一设计师服务，量身定制现代、北欧、中式等多种风格方案</p>
    </div>
    <!-- 服务卡片2 -->
    <div class="card" style="padding: 2rem; border: 1px solid #eee; border-radius: 8px; text-align: center;">
      <img src="/images/icon-construction.png" alt="标准施工" style="width: 80px; margin-bottom: 1rem;">
      <h3>标准化施工</h3>
      <p>持证施工团队，全程监理巡检，严格按照国家装修规范施工</p>
    </div>
    <!-- 服务卡片3 -->
    <div class="card" style="padding: 2rem; border: 1px solid #eee; border-radius: 8px; text-align: center;">
      <img src="/images/icon-renovation.png" alt="旧房改造" style="width: 80px; margin-bottom: 1rem;">
      <h3>旧房翻新改造</h3>
      <p>老房局部/全屋改造，快速焕新，不影响正常居住</p>
    </div>
  </div>
</section>

<!-- 装修案例展示 -->
<section class="cases" style="padding: 4rem 0; background: #f9fafb;">
  <div style="max-width: 1200px; margin: 0 auto;">
    <h2 style="text-align: center; margin-bottom: 3rem; font-size: 2rem;">精选装修案例</h2>
    <div class="case-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">
      立于深圳福田中心，以高级、现代、极简为设计内核，重塑出契合塔尖人群的理想栖居地。
设计师以克制的手笔规划布局，消弭空间边界的同时，让每一寸区域都承载起生活与美学的双重诉求。
黑白灰的经典主调，铺陈出沉稳内敛的基底，恰如深圳这座城市的理性与从容；
跳跃的亮色软装作为点睛之笔，瞬间激活空间的灵动气息，打破极简风格的清冷感。
线条利落的现代家具，甄选上乘质感的材质打造，与空间的简约调性浑然相融。
没有多余的装饰堆砌，却于细节处尽显奢雅 
从地面石材的细腻肌理，到墙面线条的利落勾勒，再到光影的层次营造，
每一处设计都暗藏巧思，让居者在繁华都市的静谧一隅，尽享舒适与格调兼具的高阶生活。
      <a href="{{ case.url }}" style="text-decoration: none; color: #333;">
        <div class="case-card" style="border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
          <img src="/images/keting.jpg" alt="滨河时代260㎡大平层" style="width: 100%; height: 200px; object-fit: cover;">
          <div style="padding: 1rem;">
            <h3 style="margin-bottom: 0.5rem;">滨河时代260㎡大平层</h3>
            <p style="color: #666;">中式客厅效果预览</p>
          </div>
        </div>
      </a>
      线条利落的定制家具，甄选全球奢品材质打造，每一处细节都暗藏匠心 —— 嵌入式智能收纳系统，藏起生活琐碎；
      无主灯设计搭配磁吸轨道灯，让光影层次随心意变换；餐厨一体化的开放式布局，兼容社交宴饮与日常烟火。
在深圳这座步履不停的先锋之城，于此揽一城繁华，享一室静谧，重新定义高端人居的奢雅内涵。
    </div>
    <div style="text-align: center; margin-top: 2rem;">
      <a href="/cases/" class="more-btn" style="color: #d97706; text-decoration: none;">查看更多案例 →</a>
    </div>
  </div>
</section>

<!-- 客户评价 -->
<section class="reviews" style="padding: 4rem 0; max-width: 1200px; margin: 0 auto;">
  <h2 style="text-align: center; margin-bottom: 3rem; font-size: 2rem;">客户真实评价</h2>
  <div class="review-list" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem;">
    <div class="review-item" style="padding: 2rem; border: 1px solid #eee; border-radius: 8px;">
      <p style="font-style: italic; margin-bottom: 1rem;">"团队很专业，完全get到我的需求，施工过程也很透明，没有乱加价，装完的效果比预期还好！"</p>
      <p style="text-align: right; font-weight: bold;">—— 刘姐 · 现代简约风</p>
    </div>
    <div class="review-item" style="padding: 2rem; border: 1px solid #eee; border-radius: 8px;">
      <p style="font-style: italic; margin-bottom: 1rem;">"旧房改造选了众心精工，工期比预期提前3天，材料都是环保的，装完马上就能入住，太省心了！"</p>
      <p style="text-align: right; font-weight: bold;">—— 李先生 · 旧房翻新</p>
    </div>
    <div class="review-item" style="padding: 2rem; border: 1px solid #eee; border-radius: 8px;">
      <p style="font-style: italic; margin-bottom: 1rem;">"从设计到施工全程不用我操心，设计师会定期沟通进度，施工团队也很负责，细节处理得非常到位，最终效果超出我的想象！"</p>
      <p style="text-align: right; font-weight: bold;">—— 张女士 · 北欧风格</p>
    </div>
    <div class="review-item" style="padding: 2rem; border: 1px solid #eee; border-radius: 8px;">
      <p style="font-style: italic; margin-bottom: 1rem;">"每天要打卡上班，一个白领上班族，没有时间去处理装修问题，选了众心精工没有让我失望。从开始到结束完全不用我操心，各种细节把控行云流水，最终效果超出我的期望！"</p>
      <p style="text-align: right; font-weight: bold;">—— 王先生 · 中式装修</p>
    </div>
      <p style="font-style: italic; margin-bottom: 1rem;">"作为一个对装修一窍不通的人，选择众心精工是最明智的决定。他们会耐心解释每一个环节，价格透明，没有任何隐性消费，装完的家让我非常满意！"</p>
      <p style="text-align: right; font-weight: bold;">—— 王先生 · 中式装修</p>
    </div>
    <div class="review-item" style="padding: 2rem; border: 1px solid #eee; border-radius: 8px;">
      <p style="font-style: italic; margin-bottom: 1rem;">"婚房装修时间紧任务重，众心精工不仅按时完工，还帮我解决了很多突发问题。装修质量一流，环保检测完全达标，现在每天住在里面都觉得很幸福！"</p>
      <p style="text-align: right; font-weight: bold;">—— 陈小姐 · 婚房装修</p>
    </div>
    <div class="review-item" style="padding: 2rem; border: 1px solid #eee; border-radius: 8px;">
      <p style="font-style: italic; margin-bottom: 1rem;">"大平层装修涉及很多细节，众心精工的团队展现了极高的专业素养，从空间规划到材料选择都给出了很好的建议，施工过程井然有序，最终效果非常完美！"</p>
      <p style="text-align: right; font-weight: bold;">—— 柯先生 · 大平层设计</p>
    </div>
  </div>
</section>
<!-- 3. 视频展示模块 -->
<section class="section videos-section">
    <div style="max-width: 1200px; margin: 0 auto; text-align: center;">
        <h2 style="margin-bottom: 2rem;"><i class="fa-solid fa-video"></i> 施工&效果视频</h2>
        <div style="position: relative; padding-bottom: 56.25%; height: 0; max-width: 800px; margin: 0 auto;">
            <video controls poster="/assets/video/video-cover.jpg" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                <source src="/assets/video/construction.mp4" type="video/mp4">
                你的浏览器不支持视频播放
            </video>
        </div>
        <p style="margin-top: 1rem;">点击播放：众心精工施工工艺全流程</p>
        <a href="/videos/" style="display: inline-block; margin-top: 1rem; padding: 0.5rem 1.5rem; background-color: #d97706; color: white; text-decoration: none; border-radius: 4px;">查看更多视频</a>
    </div>
</section>

    <!-- 4. 新闻动态模块 -->
    <section class="section news-section" style="padding: 4rem 0; max-width: 1200px; margin: 0 auto;">
        <div class="container">
            <h2 class="text-center mb-5"><i class="fa fa-file-text-o"></i> 装修新闻&行业动态</h2>
            <div class="row g-4">
                <div class="col-md-6">
                    <h4><i class="fa fa-calendar"></i> 2024装修流行趋势</h4>
                    <p>极简风+原木风仍是主流，环保材料成首选...</p>
                </div>
                <div class="col-md-6">
                    <h4><i class="fa fa-shield"></i> 众心精工质保升级</h4>
                    <p>所有工程经过层层把关，隐蔽工程配有全景影像记录，让您无后顾之忧...</p>
                </div>
            </div>
            <div class="text-center mt-5">
                <a href="/news/" class="btn" style="background-color: #d97706; color: white; padding: 0.5rem 1.5rem; border-radius: 4px; text-decoration: none;">更多新闻</a>
            </div>
        </div>
    </section>

    <!-- 5. 预约咨询模块（右侧添加客服图片，新增表单提交提示） -->
    <style>
        /* 预约咨询模块 - 渐变背景+右侧客服图片 */
        .contact-section {
            /* 浅灰蓝渐变背景，作为兜底 */
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            color: #333333;
            padding: 60px 0;
            margin: 20px 0;
            border-radius: 10px;
        }
        /* 预约模块容器 - Flex布局实现左右排列 */
        .contact-container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center; /* 垂直居中对齐 */
            justify-content: space-between; /* 左右两端分布，中间留间距 */
            gap: 40px; /* 表单和图片之间的间距 */
        }
        /* 表单区域容器 */
        .form-wrapper {
            flex: 1; /* 占剩余宽度，自适应 */
            min-width: 300px; /* 最小宽度，避免挤变形 */
        }
        /* 客服图片区域容器 */
        .avatar-wrapper {
            flex: 0 0 300px; /* 固定宽度300px，不拉伸不压缩 */
            text-align: center;
        }
        /* 客服图片样式 */
        .service-avatar {
            width: 100%;
            max-width: 280px; /* 图片最大宽度 */
            height: auto; /* 自动适应高度，不扭曲 */
            border-radius: 12px; /* 圆角，和表单风格统一 */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); /* 轻微阴影，提升层次感 */
            object-fit: cover; /* 保持图片比例，裁剪多余部分 */
            /* 以下是补充的新样式 */
            filter: brightness(0.98); /* 轻微调暗图片，提升高级质感（可选，可调整数值0.1-1） */
            transition: transform 0.3s ease; /* 过渡动画，让hover效果更顺滑 */
        }

        /* 补充：图片hover交互效果（鼠标移上去轻微放大） */
        .service-avatar:hover {
            transform: scale(1.02); /* 放大1.02倍，效果柔和不夸张 */
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1); /* 阴影轻微加重，强化层次感 */
        }
        /* 表单标题美化 */
        .contact-title {
            margin-bottom: 30px;
            font-weight: 700;
            color: #165DFF; /* 呼应品牌深蓝色，提升辨识度 */
            text-align: center;
        }
        /* 表单整体样式 */
        .reservation-form {
            max-width: 500px;
            margin: 0 auto;
            padding: 25px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }
        /* 输入框样式美化 */
        .form-input {
            width: 100%;
            padding: 14px 18px;
            margin-bottom: 20px;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s ease;
            box-sizing: border-box;
        }
        /* 输入框聚焦效果 */
        .form-input:focus {
            outline: none;
            border-color: #165DFF;
            box-shadow: 0 0 0 3px rgba(22, 93, 255, 0.1);
        }
        /* 占位符文字样式 */
        .form-input::placeholder {
            color: #94a3b8;
            font-size: 14px;
        }
        /* 提交按钮美化 */
        .submit-btn {
            background: #165DFF;
            color: #ffffff;
            padding: 14px 35px;
            border: none;
            border-radius: 50px;
            font-weight: bold;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            max-width: 400px;
            margin: 0 auto;
            display: block; /* 按钮居中 */
        }
        /* 按钮hover效果 */
        .submit-btn:hover {
            background: #0e4bdb;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(22, 93, 255, 0.2);
        }
        /* 按钮禁用状态（提交中） */
        .submit-btn:disabled {
            background: #94a3b8;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        /* 客服热线文字样式 */
        .contact-hotline {
            margin-top: 25px;
            font-size: 16px;
            color: #64748b;
            text-align: center;
        }
        .contact-hotline strong {
            color: #165DFF;
            font-weight: 700;
        }
        /* 响应式适配：手机端自动换行，图片在上，表单在下 */
        @media (max-width: 768px) {
            .contact-container {
                flex-direction: column; /* 改为垂直排列 */
                gap: 30px; /* 增大垂直间距，更美观 */
            }
            .avatar-wrapper {
                flex: none; /* 取消固定宽度 */
                width: 80%; /* 手机端图片宽度自适应 */
            }
        }

        /* ========== 新增：表单提示样式 ========== */
        .form-tip {
            margin: 15px auto 0;
            padding: 12px 20px;
            border-radius: 8px;
            max-width: 400px;
            text-align: center;
            font-size: 14px;
            display: none; /* 默认隐藏 */
        }
        /* 成功提示样式 */
        .tip-success {
            background: rgba(45, 153, 97, 0.1);
            color: #2D9961;
            border: 1px solid rgba(45, 153, 97, 0.2);
        }
        /* 失败提示样式 */
        .tip-error {
            background: rgba(239, 68, 68, 0.1);
            color: #ef4444;
            border: 1px solid rgba(239, 68, 68, 0.2);
        }
        /* 提交中提示样式 */
        .tip-loading {
            background: rgba(22, 93, 255, 0.1);
            color: #165DFF;
            border: 1px solid rgba(22, 93, 255, 0.2);
        }
    </style>

    <section class="contact-section">
        <div class="contact-container">
            <!-- 左侧：预约表单 -->
            <div class="form-wrapper">
                <h2 class="contact-title"><i class="fa fa-headphones fa-fw"></i> 立即预约 · 免费报价</h2>
                <form id="reservationForm" class="reservation-form" action="https://formspree.io/f/mbdjeorj" method="POST">
                    <div>
                        <input type="text" class="form-input" name="name" placeholder="您的姓名" required>
                    </div>
                    <div>
                        <input type="tel" class="form-input" name="phone" placeholder="联系电话（必填）" required>
                    </div>
                    <div>
                        <input type="text" class="form-input" name="house" placeholder="户型/面积（如：三居室/120㎡）" required>
                    </div>
                    <button type="submit" class="submit-btn" id="submitBtn">提交预约 · 免费获取方案</button>
                    <!-- 新增：表单提示容器 -->
                    <div class="form-tip" id="formTip"></div>
                </form>
                <p class="contact-hotline">客服热线：<strong>18672542107</strong></p>
            </div>

            <!-- 右侧：客服图片 -->
            <div class="avatar-wrapper">
                <img src="/assets/img/jiedaiyuan_s.jpg" alt="众心精工客服专员" class="service-avatar">
                <p style="margin-top: 15px; color: #64748b; font-size: 14px;">一对一专属客服，为您解答疑惑</p>
            </div>
        </div>
    </section>

    <!-- ========== 修复：表单提交逻辑 JavaScript ========== -->
    <script>
        // 获取表单、按钮、提示容器元素
        const reservationForm = document.getElementById('reservationForm');
        const submitBtn = document.getElementById('submitBtn');
        const formTip = document.getElementById('formTip');
        
        // 添加缺失的resetFormTip函数
        function resetFormTip() {
            formTip.className = 'form-tip';
            formTip.innerHTML = '';
            formTip.style.display = 'none';
        }
    
        // 表单提交事件监听（阻止默认刷新行为）
        reservationForm.addEventListener('submit', function(e) {
            // 1. 阻止表单默认提交行为（避免页面刷新）
            e.preventDefault();
    
            // 2. 重置提示样式，显示"提交中"状态
            resetFormTip();
            formTip.className = 'form-tip tip-loading';
            formTip.innerHTML = '<i class="fa fa-spinner fa-spin"></i> 正在提交预约信息，请稍候...';
            formTip.style.display = 'block';
            submitBtn.disabled = true; // 禁用按钮，防止重复提交
            submitBtn.innerHTML = '提交中...';
    
            // 3. 使用jQuery的AJAX方法提交表单
            $.ajax({
                url: reservationForm.action,
                method: reservationForm.method,
                data: $(reservationForm).serialize(),
                dataType: 'json',
                success: function(response) {
                    // 提交成功
                    formTip.className = 'form-tip tip-success';
                    formTip.innerHTML = '<i class="fa fa-check-circle"></i> 预约提交成功！我们将在1-2个工作日内与您联系，请注意查收来电。';
                    
                    // 重置表单内容
                    reservationForm.reset();
                },
                error: function(xhr, status, error) {
                    // 提交失败
                    formTip.className = 'form-tip tip-error';
                    formTip.innerHTML = '<i class="fa fa-exclamation-circle"></i> 预约提交失败！服务器返回异常，请稍后重试。';
                },
                complete: function() {
                    // 无论成功/失败，最终启用按钮（恢复初始状态）
                    submitBtn.disabled = false;
                    submitBtn.innerHTML = '提交预约 · 免费获取方案';
    
                    // 3秒后自动隐藏失败提示（成功提示保留，让用户查看）
                    if (formTip.classList.contains('tip-error') || formTip.classList.contains('tip-loading')) {
                        setTimeout(function() {
                            formTip.style.display = 'none';
                        }, 3000);
                    }
                }
            });
        });